import os
import unittest

from util.hasher import calculate_hashes


class TestHasher(unittest.TestCase):
    test_file_path = "test_file"

    def setUp(self) -> None:
        # Create a temporary file for testing with known content
        test_content = b"Hello, this is a test file."
        with open(self.test_file_path, "wb") as f:
            f.write(test_content)

    def tearDown(self) -> None:
        # Remove the temporary file
        os.remove(self.test_file_path)

    def test_sha256sum(self) -> None:
        _, sha = calculate_hashes(self.test_file_path)
        expected_result = "d736345dab82fb01e17b25306ebfabe6c22e00b691a7b8007ad1c70609f36d19"
        assert sha == expected_result

    def test_md5sum(self) -> None:
        md5, _ = calculate_hashes(self.test_file_path)
        expected_result = "c11eb9c412703a01d12867e962f3c96a"
        assert md5 == expected_result
